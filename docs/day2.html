<html lang="en">

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
    <meta charset="utf-8">
    <meta content="width=device-width" name="viewport">
    <meta content="noindex" name="robots">
    <title>Day 2</title>
    <link href="assets/css/journal.css?1668902517" rel="stylesheet" type="text/css">
</head>

<body class="dark">
    <script src="assets/javascripts/jquery.js"></script>
    <div class="wrapper">
        <h1 class="header"><img alt="Welcome to holidaygirl1225's game secrets, glitches, and theories blog!" class="welcome" src="/assets/images/welcome.png"><img alt="Happy Holidays" class="ornament" src="/assets/images/xmas.png"></h1>
        <main>
            <div class="post">
                <p>The ship has already docked at an island, and not very far away was a dense, lush jungle. There seems to be something glowing on the trees… are these the infused star fruits that they’re talking about?</p>
                <p>The elves have already started setting up tents on the beach. Not just that, but there’s… tables? With computers on them? The elves always do something that completely baffles me.</p>
                <p>Just like yesterday, Kris and Captain Elf were talking outside my room. “Since you helped me so much last year, I’d like to…”</p>
                <p>“What’s going on? There’s so many computers outside.”</p>
                <p>“Good morning, Noelle. we’re organizing a Rock Paper Scissors competition to see who gets to choose their tent first. Everyone said they wanted to live close to the food storage so we had to sort it out!” Captain Elf laughed.</p>
                <p>Uh… okay. Perhaps they shouldn’t have brought so much chocolate…?</p>
                <p>“We have 251 participants here,” the elf continued, “so we need a lot of rounds of Rock Paper Scissors. We’ve set up the computers there so that each player just needs to input 10 moves, and it’ll simulate all 10 rounds at once and accumulate the score. It’s much faster.”</p>
                <p>“I see. How does the tournament work? Like the scoring and stuff.”</p>
                <p>“It depends on what you choose and whether you’ve won. You get 1 point for using Rock, 2 points for using Paper, and 3 points for using Scissors. You’ll also get 6 points for winning a round, 3 points for a draw, and 0 points if you lose.”</p>
                <p>(It’s actually pretty clever: you’ve got to use Scissors more often, but at the same time avoid losing!)</p>
                <p>“You do this for 2,500 times, and-”</p>
                <p>“2,500 times?” How much time have they got?!</p>
                <p>“We use a <a href=https://en.wikipedia.org/wiki/Round-robin_tournament>round robin tournament</a> to make sure that it’s fair. We have 250 opponents each and 10 rounds per opponent, so that’s 2,500 rounds. After everyone completes their 2,500 rounds…”</p>
                <p>Jeez, that’s a lot of rounds…</p>
                <p>“Whoever's got the highest score chooses their tent first, second highest chooses second, and so on.”</p>
                <p>“So that’s why…” I looked at the long thin strip of paper that the elf was holding, filled with fine print. “...the paper is this long?”</p>
                <p>“Yes, that’s my strategy guide! I’m secretly giving it to Kris as a token of gratitude for your help.”</p>
                <p>“Wait… What about me?”</p>
                <p>“You don’t need to compete for a tent! You can just wait on the ship while we gather the star fruits. We’ll come back when-”</p>
                <p>“Hang on,” Kris interrupted. “It’s not a good idea if she stays here… You could say that reindeers are supposed to deliver presents, but she’s… We used to study together, and she would still do better than me on every test. It would be a waste if…”</p>
                <p>“But if we have one less reindeer, would we be able to… Hmm.”</p>
                <p>“We already have enough before I got here,” I added. “Otherwise Santa wouldn’t be able to deliver all the presents.” I also have no experience in delivering presents, so…</p>
                <p>“Barely. Santa has always struggled to do that within one day. It would be great if a few more reindeers could help.”</p>
                <p>“But… after what happened last year, I think it’s more important for me to help with programming. It’ll be great if we can work together… Especially if the problems are going to be as difficult as the ones from last year.”</p>
                <p>(It would be so stressful for them to solve <a href=https://adventofcode.com/2021/day/19>the beacon problem</a> alone… )</p>
                <p>I kept going. “Speaking of which, if we really don’t have enough reindeers, then why did I end up in the submarine?”</p>
                <p>“I… I guess I was in a heated mood on that day and just wanted to punish you or something.”</p>
                <p>What excuse is this?!</p>
                <p>“You did prove your programming ability afterwards, so… Yeah, okay, let’s give this another try. Instead of delivering presents, you can follow us and help us solve problems. Although…”</p>
                <p>“What?”</p>
                <p>“It’ll be difficult to add you to the competition, because we’ve fixed the list of participants… I’ll build you a tent later, okay? I promise it won’t be far away from the food storage, okay?”</p>
                <p>I sighed. Come on, I still don’t get my own strategy guide!</p>
                <p>“Anyways, let me talk about the guide. You see there’s 2 columns here, right? The first column is what the opponent will choose. A means Rock, B means Paper, C means Scissors. The second column-”</p>
                <p>“How do you know what the opponent will pick?”</p>
                <p>“I don’t know, but I’ve used this strategy guide before and I won, so I know it works! Anyways, the second column-”</p>
                <p>“You’ve used this strategy guide before? So you’ve got other Rock Paper Scissors tournaments?”</p>
                <p>“Yeah, it’s sort of a tradition for us elves. It’s a handy tool for randomizing the order, especially when there’s lots of us! We just prefer playing Rock Paper Scissors much more than letting a computer randomly assign us a number. Anyways, the second column-”</p>
                <p>“Hey, Cap’ n! I need your help!” An elf waved at the doorstep of the ship.</p>
                <p>“Okay!” Captain Elf turned around. “I’ll be right back.”</p>
                <p>There was a moment of silence as I looked down and braced myself for whatever Kris is about to say next.</p>
                <p>“Noelle! Can you just…”</p>
                <hr>
                <p>“Look, if you didn’t interrupt him, we wouldn’t have to guess what the second column means…”</p>
                <p>“Yeah, but…” I typed on the keyboard while Kris watched the screen. “The only reasonable guess we have is that X means Rock, Y means Paper and Z means Scissors. They probably decided the moves carefully, because it would be suspicious if we win every time.”</p>
                <p>“But they can use ABC again… Why XYZ?”</p>
                <p>“I don’t know… Maybe it’s to tell the first player and the second player apart?”</p>
                <p>While we waited for the elf to come back, we decided to calculate how many points Kris will score if everything goes according to plan, just to see in advance if it’s a good strategy.</p>
                <p>It isn’t too bad if you hardcode all the scores of each shape, as well as the outcome of each combination of moves, then use them to calculate the score in a round. That’ll do the job.</p>
                <p>But while we were cleaning up the code, I found a trick to calculate the score of the outcome (0, 3 or 6). Suppose that my opponent is Player 1 and I’m Player 2. You see, if we use 1, 2 and 3 to represent Rock, Paper and Scissors, then subtract Player 1’s move from Player 2’s move:</p>
                <p>
                    <table>
                        <thead>
                            <tr>
                                <th>Move</th>
                                <th>Player 1: Rock</th>
                                <th>Player 1: Paper</th>
                                <th>Player 1: Scissors</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Player 2: Rock</td>
                                <td>0</td>
                                <td>-1</td>
                                <td>-2</td>
                            </tr>
                            <tr>
                                <td>Player 2: Paper</td>
                                <td>1</td>
                                <td>0</td>
                                <td>-1</td>
                            </tr>
                            <tr>
                                <td>Player 2: Scissors</td>
                                <td>2</td>
                                <td>1</td>
                                <td>0</td>
                            </tr>
                        </tbody>
                    </table>
                </p>
                <p>If Player 1 wins, the difference is either 2 or -1, which are both 2 (mod 3). If Player 2 wins, the difference is either 1 or -2, which are both 1 (mod 3). If there’s a tie, the difference is 0.</p>
                <p>Hey, looks like mod 3 will be helpful:</p>
                <p>
                    <table>
                        <thead>
                            <tr>
                                <th>Move</th>
                                <th>Player 1: Rock</th>
                                <th>Player 1: Paper</th>
                                <th>Player 1: Scissors</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Player 2: Rock</td>
                                <td>0</td>
                                <td>2</td>
                                <td>1</td>
                            </tr>
                            <tr>
                                <td>Player 2: Paper</td>
                                <td>1</td>
                                <td>0</td>
                                <td>2</td>
                            </tr>
                            <tr>
                                <td>Player 2: Scissors</td>
                                <td>2</td>
                                <td>1</td>
                                <td>0</td>
                            </tr>
                        </tbody>
                    </table>
                </p>
                <p>Now the same outcomes are represented with the same number! We just need some manipulation to change these numbers into the score of the outcome. First we can shift 0 to 1, 1 to 2, and 2 to 0. That is, we add 1 and mod 3 again:</p>
                <p>
                    <table>
                        <thead>
                            <tr>
                                <th>Move</th>
                                <th>Player 1: Rock</th>
                                <th>Player 1: Paper</th>
                                <th>Player 1: Scissors</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Player 2: Rock</td>
                                <td>1</td>
                                <td>0</td>
                                <td>2</td>
                            </tr>
                            <tr>
                                <td>Player 2: Paper</td>
                                <td>2</td>
                                <td>1</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>Player 2: Scissors</td>
                                <td>0</td>
                                <td>2</td>
                                <td>1</td>
                            </tr>
                        </tbody>
                    </table>
                </p>
                <p>Then we multiply everything by 3:</p>
                <p>
                    <table>
                        <thead>
                            <tr>
                                <th>Move</th>
                                <th>Player 1: Rock</th>
                                <th>Player 1: Paper</th>
                                <th>Player 1: Scissors</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Player 2: Rock</td>
                                <td>1</td>
                                <td>0</td>
                                <td>2</td>
                            </tr>
                            <tr>
                                <td>Player 2: Paper</td>
                                <td>2</td>
                                <td>1</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>Player 2: Scissors</td>
                                <td>0</td>
                                <td>2</td>
                                <td>1</td>
                            </tr>
                        </tbody>
                    </table>
                </p>
                <p>Ta-da! Using this table, we can quickly find our score for each outcome. The overall formula is:</p>
                <pre>((player2 - player1 + 1) % 3) * 3</pre>
                <p>Isn’t that nice?</p>
                <hr>
                <p>“13,675…” Kris read out the output. “Is that a good score?”</p>
                <p>Let’s see… If I picked a move at random, then I’ll expect to get 2 points from my move, plus 3 points from the outcome, so 5 points on average. In 2,500 rounds, we should expect to get 12,500 points. So that’s not a bad strategy… assuming that XYZ really means Rock Paper Scissors.</p>
                <p>Before I could answer Kris though, the elf had climbed upstairs. “I’m back. Where did we leave off?”</p>
                <p>“The second column, of course.” Kris replied while giving me an emotionless look. (I didn’t mean to do that, Kris! I’m really just curious!)</p>
                <p>“Ah yes, the second column. It says what your outcome needs to be. X means you need to lose, Y means you need to draw, and Z means you need to win. Oh, what code are you writing?”</p>
                <p>“I, uh…” I was nervous to say it. He’s gonna find out that we’re doubting his guide!</p>
                <p>“We’re… testing how powerful your guide works. It’s great.”</p>
                <p>“Of course it’s great! Don’t worry, I’m not going to intentionally give you a strategy that loses every time. Unlike the other elves. Well, I was fooled once, so I decided to make my own guides.”</p>
                <p>“Haha, okay. When’s the competition starting?”</p>
                <p>“In about…” The elf checked the watch. “15 minutes. I gave every participant 3 hours to think of 2,500 moves to be played in the tournament. Except Kris, of course, thanks to my ultra top secret strategy guide. Don’t tell this to anyone else.”</p>
                <p>Seriously, what shenanigans are the elves thinking? Does anyone know?</p>
                <p>“Alright, I gotta set up the competition. See you soon!”</p>
                <p>And Captain Elf left once more.</p>
                <hr>
                <p>“Do you think we should recalculate the score?” Kris raised the same concern as I have.</p>
                <p>It’s not too difficult to calculate the new total score, now that we know how to find the score in all 9 possible situations. The only extra step is to find out what move we should use.</p>
                <p>Again, there’s the hardcode way and the clean way. Let’s look at the clean way! It’s very similar to what we did before.</p>
                <p>Let’s use 1, 2 and 3 to represent Rock, Paper and Scissors again, but at the same time, we also use the numbers to represent lose, draw and win. This time, we need to add up Player 1’s move and the outcome:</p>
                <p>
                    <table>
                        <thead>
                            <tr>
                                <th>Move / Outcome</th>
                                <th>Player 1: Rock</th>
                                <th>Player 1: Paper</th>
                                <th>Player 1: Scissors</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Player 2 loses</td>
                                <td>2</td>
                                <td>3</td>
                                <td>4</td>
                            </tr>
                            <tr>
                                <td>Player 2 draws</td>
                                <td>3</td>
                                <td>4</td>
                                <td>5</td>
                            </tr>
                            <tr>
                                <td>Player 2 wins</td>
                                <td>4</td>
                                <td>5</td>
                                <td>6</td>
                            </tr>
                        </tbody>
                    </table>
                </p>
                <p>If we should use Rock, the sum is either 3 or 6, which is 0 (mod 3). If we should use Paper, the sum is always 4, which is 1 (mod 3). If we should use Scissors, the sum is either 2 or 5, which is 2 (mod 3).</p>
                <p>Mod 3 is useful again!</p>
                <p>
                    <table>
                        <thead>
                            <tr>
                                <th>Move / Outcome</th>
                                <th>Player 1: Rock</th>
                                <th>Player 1: Paper</th>
                                <th>Player 1: Scissors</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Player 2 loses</td>
                                <td>2</td>
                                <td>0</td>
                                <td>1</td>
                            </tr>
                            <tr>
                                <td>Player 2 draws</td>
                                <td>0</td>
                                <td>1</td>
                                <td>2</td>
                            </tr>
                            <tr>
                                <td>Player 2 wins</td>
                                <td>1</td>
                                <td>2</td>
                                <td>0</td>
                            </tr>
                        </tbody>
                    </table>
                </p>
                <p>To map this table to the original 1 for Rock, 2 for Paper and 3 for Scissors, we only need to add 1 to everything. (Yep, it’s <a href=https://en.wikipedia.org/wiki/Zeitpyramide>off by one</a>…)</p>
                <p>
                    <table>
                        <thead>
                            <tr>
                                <th>Move / Outcome</th>
                                <th>Player 1: Rock</th>
                                <th>Player 1: Paper</th>
                                <th>Player 1: Scissors</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Player 2 loses</td>
                                <td>3</td>
                                <td>1</td>
                                <td>2</td>
                            </tr>
                            <tr>
                                <td>Player 2 draws</td>
                                <td>1</td>
                                <td>2</td>
                                <td>3</td>
                            </tr>
                            <tr>
                                <td>Player 2 wins</td>
                                <td>2</td>
                                <td>3</td>
                                <td>1</td>
                            </tr>
                        </tbody>
                    </table>
                </p>
                <p>The formula for finding our move is:</p>
                <pre>(player1 + instruction) % 3 + 1</pre>
                <p>Now if we use this as our move (Player 2’s move), then we have the correct answer again. Nice!</p>
                <hr>
                <p>“14,184. That’s much better than I thought…”</p>
                <p>“Don’t forget, Kris… You need all 2,500 moves from your opponent to match this guide in order to guarantee a win, so…”</p>
                <p>“At least I don’t have to write down 2,500 moves by myself. Might as well use the guide.”</p>
                <p>“Testing… 1, 2, 3…”</p>
                <p>It was that familiar voice of Captain Elf making announcements. It’s still the same.</p>
                <p>“Alright. The time now is 3 pm, which means that the tournament shall commence soon. All participants, please go to the registration area. Our assistants will help you take attendance. Repeat, all participants, please go to the registration area. Thank you.”</p>
                <p>“Gotta go.” Kris stood up and briskly walked downstairs. The Rock Paper Scissors tournament was such a ridiculous idea… But then, I was rooting for them.</p>
                <p>“Good luck, Kris!”</p>
                <p>I wasn’t sure if they could hear me.</p>
            </div>
        </main>
    </div>
    <script src="assets/javascripts/reallyplayer.js"></script>
</body>

</html>